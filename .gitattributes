###############################################################################
# Core: normalize line endings + UTF-8
###############################################################################
# Normalize to LF in repo; editors can show CRLF on Windows if configured
*           text=auto eol=lf

# Explicit LF for common scripts
*.sh        text eol=lf
*.bash      text eol=lf
*.zsh       text eol=lf
*.py        text eol=lf
*.rb        text eol=lf
*.pl        text eol=lf
*.php       text eol=lf
*.rs        text eol=lf
*.go        text eol=lf
*.java      text eol=lf
*.kt        text eol=lf
*.scala     text eol=lf
*.ts        text eol=lf
*.tsx       text eol=lf
*.js        text eol=lf
*.jsx       text eol=lf
*.css       text eol=lf
*.scss      text eol=lf
*.less      text eol=lf
*.md        text eol=lf
*.yml       text eol=lf
*.yaml      text eol=lf
*.toml      text eol=lf
*.json      text eol=lf
*.sql       text eol=lf
Dockerfile  text eol=lf
*.gradle    text eol=lf

# Windows-only scripts that expect CRLF
*.bat       text eol=crlf
*.cmd       text eol=crlf

###############################################################################
# Binary safety: never auto-convert line endings; avoid broken diffs
###############################################################################
# Images
*.png       binary
*.jpg       binary
*.jpeg      binary
*.gif       binary
*.webp      binary
*.tiff      binary
*.ico       binary
*.psd       binary

# Fonts
*.woff      binary
*.woff2     binary
*.ttf       binary
*.otf       binary
*.eot       binary

# Audio / Video
*.mp3       binary
*.wav       binary
*.flac      binary
*.mp4       binary
*.mov       binary
*.avi       binary
*.mkv       binary
*.webm      binary

# Archives & packages
*.zip       binary
*.gz        binary
*.bz2       binary
*.7z        binary
*.rar       binary
*.tar       binary
*.tgz       binary
*.jar       binary
*.war       binary
*.nupkg     binary
*.dmg       binary
*.iso       binary

# Data / design / CAD
*.pdf       binary
*.ai        binary
*.eps       binary
*.sketch    binary
*.fig       binary
*.blend     binary
*.step      binary
*.stp       binary
*.stl       binary
*.glb       binary
*.gltf      binary

###############################################################################
# Diff quality: use built-in or custom drivers (configure in .gitconfig)
###############################################################################
# JSON: show word-level diffs ignoring whitespace & ordering (driver required)
*.json      text diff=json
# Markdown: better prose diffs (driver required)
*.md        text diff=markdown
# Lockfiles: huge JSON—treat as text but favor minimal/word diffs
package-lock.json text diff=lockfile
pnpm-lock.yaml    text
yarn.lock         text
composer.lock     text
Pipfile.lock      text
Cargo.lock        text
Gemfile.lock      text
poetry.lock       text
go.sum            text

# Source code tweaks (drivers optional—harmless if not configured)
*.py        text diff=python
*.rb        text diff=ruby
*.js        text diff=javascript
*.ts        text diff=javascript
*.tsx       text diff=javascript
*.java      text diff=java
*.kt        text diff=kotlin
*.go        text diff=golang
*.rs        text diff=rust
*.css       text diff=css
*.scss      text diff=css

###############################################################################
# Merge strategies: reduce churn on “list” files; avoid conflicts on versioned files
###############################################################################
# Union-merge additive files (order may vary)
.gitignore  merge=union
.gitattributes merge=union
docker-compose*.yml merge=union

# Keep lockfiles simple (requires `git config merge.theirs.driver true` alias)
# Uncomment if you prefer “take theirs” on lockfile conflicts:
# package-lock.json merge=theirs
# yarn.lock         merge=theirs
# pnpm-lock.yaml    merge=theirs
# Cargo.lock        merge=theirs
# go.sum            merge=theirs

###############################################################################
# Git LFS (optional): uncomment if you use LFS; keep large binaries out of Git
###############################################################################
# Filter typical large assets via LFS (requires git-lfs installed)
# *.psd      filter=lfs diff=lfs merge=lfs -text
# *.ai       filter=lfs diff=lfs merge=lfs -text
# *.pdf      filter=lfs diff=lfs merge=lfs -text
# *.mp4      filter=lfs diff=lfs merge=lfs -text
# *.zip      filter=lfs diff=lfs merge=lfs -text
# *.glb      filter=lfs diff=lfs merge=lfs -text
# Design files lockable to avoid parallel edits
# *.psd      lockable
# *.ai       lockable
# *.fig      lockable
# *.sketch   lockable

###############################################################################
# Exports: keep release/source archives lean (git archive / GitHub “Download ZIP”)
###############################################################################
# Ignore dev-only files on export
.gitattributes export-ignore
.gitignore    export-ignore
.gitmodules   export-ignore
.github/      export-ignore
.githooks/    export-ignore
.gitlab/      export-ignore
.vscode/      export-ignore
.idea/        export-ignore
.editorconfig export-ignore
*.code-workspace export-ignore
# Tests, examples, docs (toggle to taste)
# /tests/     export-ignore
# /examples/  export-ignore
# /docs/      export-ignore
# Tooling
/.devcontainer/ export-ignore
/.docker/       export-ignore
/scripts/       export-ignore

###############################################################################
# GitHub Linguist tuning (visual stats only—does not affect Git operations)
###############################################################################
# Treat vendored/generated files as such
vendor/**                  linguist-vendored
third_party/**             linguist-vendored
**/dist/**                 linguist-generated
**/build/**                linguist-generated
**/*.min.js                linguist-generated
**/*.min.css               linguist-generated
# Set language for odd extensions (examples)
*.hcl                      linguist-language=HCL
*.tf                       linguist-language=HCL
*.hbs                      linguist-language=Handlebars
*.tpl                      linguist-language=Go
